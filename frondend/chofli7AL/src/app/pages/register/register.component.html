<div class="modal-dialog modal-dialog-centered login-pop-form" role="document">
    <div class="modal-content" id="registermodal">
        <div class="modal-header">
            <h4>Inscription</h4>
        </div>
        <div class="row p-3">
            <div class="col-6">
                <input type="radio" name="account-type-radio" id="freelancer-radio" class="account-type-radio"
                    [(ngModel)]="selectedAccountType" value="prest" (change)="toggleForm()" />
                <label for="freelancer-radio" class="ripple-effect-dark">
                    <i class="icon-material-outline-account-circle"></i> Prestataire
                </label>
            </div>
            <div class="col-6">
                <input type="radio" name="account-type-radio" id="employer-radio" class="account-type-radio"
                    [(ngModel)]="selectedAccountType" value="client" (change)="toggleForm()" />
                <label for="employer-radio" class="ripple-effect-dark">
                    <i class="icon-material-outline-business-center"></i> Client
                </label>
            </div>
        </div>
        <div class="modal-body" *ngIf="selectedAccountType === 'prest'">
            <div class="login-form">
                <form #form="ngForm" (ngSubmit)="registerPrest(form)">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label>Photo</label>
                                <input type="file" name="photo" class="form-control" (change)="fileSelected($event)">
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Nom</label>
                                <input type="text" class="form-control" [(ngModel)]="utilisateur.nom" name="nom" required minlength="2" placeholder="Nom">
                                <div *ngIf="form.submitted || form.controls['nom']?.touched">
                                    <div *ngIf="form.controls['nom']?.errors?.['required']" class="text-danger">Le nom est requis</div>
                                    <div *ngIf="form.controls['nom']?.errors?.['minlength']" class="text-danger">Le nom doit comporter au moins 2 caractères</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Prénom</label>
                                <input type="text" class="form-control" [(ngModel)]="utilisateur.prenom" name="prenom" required minlength="2" placeholder="Prénom">
                                <div *ngIf="form.submitted || form.controls['prenom']?.touched">
                                    <div *ngIf="form.controls['prenom']?.errors?.['required']" class="text-danger">Le prénom est requis</div>
                                    <div *ngIf="form.controls['prenom']?.errors?.['minlength']" class="text-danger">Le prénom doit comporter au moins 2 caractères</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Adresse</label>
                                <input type="text" class="form-control" [(ngModel)]="utilisateur.adresse" name="adresse" required placeholder="Adresse">
                                <div *ngIf="form.submitted || form.controls['adresse']?.touched">
                                    <div *ngIf="form.controls['adresse']?.errors?.['required']" class="text-danger">L'adresse est requise</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Numéro de Téléphone</label>
                                <input type="tel" class="form-control" [(ngModel)]="utilisateur.tel" name="tel" required placeholder="Numéro de Téléphone">
                                <div *ngIf="form.submitted || form.controls['tel']?.touched">
                                    <div *ngIf="form.controls['tel']?.errors?.['required']" class="text-danger">Le numéro de téléphone est requis</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>E-mail</label>
                        <input type="email" class="form-control" [(ngModel)]="utilisateur.email" name="email" required email placeholder="Email">
                        <div *ngIf="form.submitted || form.controls['email']?.touched">
                            <div *ngIf="form.controls['email']?.errors?.['required']" class="text-danger">L'email est requis</div>
                            <div *ngIf="form.controls['email']?.errors?.['email']" class="text-danger">Format d'email invalide</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Mot de Passe</label>
                        <input type="password" class="form-control" [(ngModel)]="utilisateur.password" name="password" required minlength="6" placeholder="*******">
                        <div *ngIf="form.submitted || form.controls['password']?.touched">
                            <div *ngIf="form.controls['password']?.errors?.['required']" class="text-danger">Le mot de passe est requis</div>
                            <div *ngIf="form.controls['password']?.errors?.['minlength']" class="text-danger">Le mot de passe doit comporter au moins 6 caractères</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn dark-2 btn-md full-width pop-login" [disabled]="form.invalid">S'inscrire</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-body" *ngIf="selectedAccountType === 'client'">
            <div class="login-form">
                <form #form="ngForm" (ngSubmit)="registerClient(form)">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label>Photo</label>
                                <input type="file" name="photo" class="form-control" (change)="fileSelected($event)">
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Nom</label>
                                <input type="text" class="form-control" [(ngModel)]="utilisateur.nom" name="nom" required minlength="2" placeholder="Nom">
                                <div *ngIf="form.submitted || form.controls['nom']?.touched">
                                    <div *ngIf="form.controls['nom']?.errors?.['required']" class="text-danger">Le nom est requis</div>
                                    <div *ngIf="form.controls['nom']?.errors?.['minlength']" class="text-danger">Le nom doit comporter au moins 2 caractères</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Prénom</label>
                                <input type="text" class="form-control" [(ngModel)]="utilisateur.prenom" name="prenom" required minlength="2" placeholder="Prénom">
                                <div *ngIf="form.submitted || form.controls['prenom']?.touched">
                                    <div *ngIf="form.controls['prenom']?.errors?.['required']" class="text-danger">Le prénom est requis</div>
                                    <div *ngIf="form.controls['prenom']?.errors?.['minlength']" class="text-danger">Le prénom doit comporter au moins 2 caractères</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Adresse</label>
                                <input type="text" class="form-control" [(ngModel)]="utilisateur.adresse" name="adresse" required placeholder="Adresse">
                                <div *ngIf="form.submitted || form.controls['adresse']?.touched">
                                    <div *ngIf="form.controls['adresse']?.errors?.['required']" class="text-danger">L'adresse est requise</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Numéro de Téléphone</label>
                                <input type="tel" class="form-control" [(ngModel)]="utilisateur.tel" name="tel" required placeholder="Numéro de Téléphone">
                                <div *ngIf="form.submitted || form.controls['tel']?.touched">
                                    <div *ngIf="form.controls['tel']?.errors?.['required']" class="text-danger">Le numéro de téléphone est requis</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>E-mail</label>
                        <input type="email" class="form-control" [(ngModel)]="utilisateur.email" name="email" required email placeholder="Email">
                        <div *ngIf="form.submitted || form.controls['email']?.touched">
                            <div *ngIf="form.controls['email']?.errors?.['required']" class="text-danger">L'email est requis</div>
                            <div *ngIf="form.controls['email']?.errors?.['email']" class="text-danger">Format d'email invalide</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Mot de Passe</label>
                        <input type="password" class="form-control" [(ngModel)]="utilisateur.password" name="password" required minlength="6" placeholder="*******">
                        <div *ngIf="form.submitted || form.controls['password']?.touched">
                            <div *ngIf="form.controls['password']?.errors?.['required']" class="text-danger">Le mot de passe est requis</div>
                            <div *ngIf="form.controls['password']?.errors?.['minlength']" class="text-danger">Le mot de passe doit comporter au moins 6 caractères</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn dark-2 btn-md full-width pop-login" [disabled]="form.invalid">S'inscrire</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <div class="mf-link"><i class="ti-user"></i> Vous avez déjà un compte? <a routerLink="/login" class="theme-cl">Se connecter</a></div>
        </div>
    </div>
</div>
